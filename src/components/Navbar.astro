---
import Text from "@/components/Text";

const currentPath = Astro.url.pathname;
const topLevelPath = currentPath.split("/")[1].replace(/\.html$/, "");

const links = [{ href: "/about", label: "About" }];

function isActiveLink(linkHref: string, currentTopLevelPath: string) {
  const linkTopLevelPath = linkHref.split("/")[1];
  return currentTopLevelPath === linkTopLevelPath;
}
---

<nav aria-label="Main Navigation">
  <div class="container mx-auto p-4 flex mb-8 bg-background">
    <a href="/">
      <div class="text-foreground text-lg font-bold">Ave Aristov</div>
    </a>
    <div class="grow"></div>
    <ul class="flex space-x-4">
      {
        links.map((link) => (
          <li>
            <a
              href={link.href}
              class={`text-foreground hover:text-primary ${
                isActiveLink(link.href, topLevelPath)
                  ? "text-neon-pink font-bold"
                  : ""
              }`}
            >
              <Text variant="body">{link.label}</Text>
            </a>
          </li>
        ))
      }
    </ul>
  </div>
</nav>
